<ng-form name="nestedField_{{count}}" class="form-group">
    <label>Question {{count}}</label>
    <div class="input-group">
        <input type="text" class="form-control error" name="question" ng-model="field.question" placeholder="Ask your questions" required />
        <span ng-if="ctrl.isFormDirty('field', 'question')" ng-messages="ctrl.formError('field','question')">
          <span class="error-text" ng-message="required">This field is required</span>
        </span>
        <br />
        <select class="form-control error" name="type" ng-model="field.type" ng-options="type for type in ctrl.inputTypes" required>
            <option value="">Select the type of input</option>
        </select>
        <span ng-if="ctrl.isFormDirty('field', 'type')" ng-messages="ctrl.formError('field','type')">
          <span class="error-text" ng-message="required">This field is required</span>
        </span>
        <a class="btn btn-info input-group-addon" ng-click="ctrl.copy(field)">Copy</a>
        <a class="btn btn-danger input-group-addon" ng-click="ctrl.delete(field)">Delete</a>
    </div>
</ng-form>
<br />
<ng-form name="nestedValidation_{{count}}" class="form-group" ng-show="ctrl.isValidable(field.type)" >
  <label>Validations</label>
  <div class="form-inline" ng-if="ctrl.isRequirable(field.type)">
    <input type="checkbox" ng-model="field.required"> Required?
  </div>
  <div class="form-inline" ng-if="ctrl.isRangable(field.type)">
    <input type="checkbox" ng-model="maxlengthReq" ng-change="ctrl.cleanUp(!maxlengthReq,'maxlength')"> Maximum character length?
    <span ng-if="maxlengthReq">
      <input type="number" class="form-control error" ng-model="field.maxlength" name="maxlength" required >
      <span ng-if="ctrl.isFormDirty('validation','maxlength')" ng-messages="ctrl.formError('validation','maxlength')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="number">Not a number</span>
      </span>
    </span>
  </div>
  <div class="form-inline" ng-if="ctrl.isRangable(field.type)">
    <input type="checkbox" ng-model="minlengthReq" ng-change="ctrl.cleanUp(!minlengthReq,'minlength')" > Minimum character length?
    <span ng-if="minlengthReq">
      <input type="number" class="form-control error" ng-model="field.minlength" name="minlength" required >
      <span ng-if="ctrl.isFormDirty('validation','minlength')" ng-messages="ctrl.formError('validation','minlength')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="number">Not a number</span>
      </span>
    </span>
  </div>
  <div class="form-inline" ng-if="ctrl.isNumerable(field.type)">
    <input type="checkbox" ng-model="maxReq" ng-change="ctrl.cleanUp(!maxReq,'max')"> Maximum number?
    <span ng-if="maxReq">
      <input type="number" class="form-control error" ng-model="field.max" name="max" required >
      <span ng-if="ctrl.isFormDirty('validation','max')" ng-messages="ctrl.formError('validation','max')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="number">Not a number</span>
      </span>
    </span>
  </div>
  <div class="form-inline" ng-if="ctrl.isNumerable(field.type)">
    <input type="checkbox" ng-model="minReq" ng-change="ctrl.cleanUp(!minReq,'min')" > Minimum number?
    <span ng-if="minReq">
      <input type="number" class="form-control error" ng-model="field.min" name="min" required >
      <span ng-if="ctrl.isFormDirty('validation','min')" ng-messages="ctrl.formError('validation','min')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="number">Not a number</span>
      </span>
    </span>
  </div>
  <div class="form-inline" ng-if="ctrl.isDatable(field.type)">
    <input type="checkbox" ng-model="maxdateReq" ng-change="ctrl.cleanUp(!maxdateReq,'maxdate')"> Maximum date?
    <span ng-if="maxdateReq">
      <input type="date" class="form-control error" ng-model="field.maxdate" name="maxdate" required >
      <span ng-if="ctrl.isFormDirty('validation','maxdate')" ng-messages="ctrl.formError('validation','maxdate')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="date">Not a number</span>
      </span>
    </span>
  </div>
  <div class="form-inline" ng-if="ctrl.isDatable(field.type)">
    <input type="checkbox" ng-model="mindateReq" ng-change="ctrl.cleanUp(!mindateReq,'mindate')" > Minimum date?
    <span ng-if="mindateReq">
      <input type="date" class="form-control error" ng-model="field.mindate" name="mindate" required >
      <span ng-if="ctrl.isFormDirty('validation','mindate')" ng-messages="ctrl.formError('validation','mindate')">
        <span class="error-text" ng-message="required">Required</span>
        <span class="error-text" ng-message="date">Not a number</span>
      </span>
    </span>
  </div>
</ng-form>
<ng-transclude></ng-transclude>
<br />
<!-- <div ng-if="ctrl.hasOption(field.type)">
    <h5>Options</h5>
    <ul class="list-group">
        <li class="list-group-item" ng-repeat="option in field.options">{{ option }}</li>
    </ul>
    <div class="form-inline">
        <input type="text" class="form-control" ng-model="ctrl.option" placeholder="Type your options" />
        <button class="btn btn-default" ng-click="ctrl.addOption(ctrl.option)" >Add</button>
    </div>
</div> -->
